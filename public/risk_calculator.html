<!DOCTYPE html>
<html lang="en">

<head>
  <!--
  Refernces:
  1. https://dev.to/ms314006/use-jest-write-unit-testing-for-dom-manipulation-3n6c
  2. https://buddy.works/tutorials/testing-with-jest-basic-to%C2%AD-do-application
  3. https://dev.to/ms314006/use-jest-write-unit-testing-for-dom-manipulation-3n6c
  -->
  <!-- METAS -->
  <meta charset="utf-8" />
  <meta http-equiv="content-type" content="text/html" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- MODIFY -->
  <meta name="title" content="OWASP Risk Assessment Calculator" />
  <meta name="description" content="New version 2021 of OWASP Risk Assessment Calculator" />
  <meta name="author" content="DevSecOps" />
  <title>OWASP Risk Assessment Calculator v2021</title>
</head>
<!-- MAIN -->

<body>
  <main>
    <section>
      <h1>Risk Assessment Calculator</h1>
      <div>
        <b>VECTOR: </b>
        <!-- Text Box -->
        <!-- On Change Event-->
        <!-- <script> function calculate(){ var inputString = $("#lh").value(); const vector = risk.stringToVector(inputString); // Check likelihood Score const likelihood = risk.calculateAverage(vector.slice(0, 8)); const likelihoodLabel = risk.rate(Number(likelihood)); // Check Impact Score const impact = risk.calculateAverage(vector.slice(8, 16)); const impactLabel = risk.rate(Number(impact)); const criticality = risk.criticality(likelihoodLabel, impactLabel); } </script> -->
        <input type="text" maxlength="80" id="lh" onChange="return calculate()" />
        <!-- vector=(SL:1/M:1/O:0/S:2/ED:1/EE:1/A:1/ID:2/LC:2/LI:1/LAV:1/LAC:1/FD:1/RD:1/NC:2/PV:3)" target="_blank">(SL:1/M:1/O:0/S:2/ED:1/EE:1/A:1/ID:2/LC:2/LI:1/LAV:1/LAC:1/FD:1/RD:1/NC:2/PV:3) -->
      </div>
    </section>
    <!-- LIKELIHOOD SCORE -->
    <section>
      <h5 class="border-bottom">Likelihood score</h5>
      <h6 class="LS nomargin" id="like">0</h6>
    </section>

    <!-- LIKELIHOOD Label -->
    <section>
      <h5 class="border-bottom">Likelihood Label</h5>
      <h6 class="LS nomargin" id="likelabel">0</h6>
    </section>

    <!-- IMPACT SCORE -->
    <section>
      <h5 class="border-bottom">Impact score</h5>
      <h6 class="IS nomargin">0</h6>
    </section>

    <!-- IMPACT Label -->
    <section>
      <h5 class="border-bottom">Impact Label</h5>
      <h6 class="IS nomargin">0</h6>
    </section>

    <!-- Risk -->
    <section>
      <h5 class="border-bottom">Risk</h5>
      <h6 class="IS nomargin">0</h6>
    </section>
  </main>
  <!-- SCRIPTS -->
  <script>
    var exports = {};
  </script>
  <script type="text/javascript" src="risk.js"></script>
  <script type="text/javascript">
    function calculate() {
      var inputString = null;
      inputString = document.getElementById("lh").value;
      let risk = new Risk();

      const vector = risk.stringToVector(inputString);
      // Check likelihood Score
      const likelihood = risk.calculateAverage(vector.slice(0, 8));

      document.getElementById("like").innerHTML = likelihood;

      const likelihoodLabel = risk.rate(Number(likelihood));
      document.getElementById("likelabel").innerHTML = likelihoodLabel;
      // Check Impact Score
      const impact = risk.calculateAverage(vector.slice(8, 16));
      const impactLabel = risk.rate(Number(impact));
    }
  </script>
</body>

</html>